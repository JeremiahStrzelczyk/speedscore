name: Unit Tests

on: push

jobs:
  #Job 1: Testing in Chrome environment
  test:
    name: Running Tests
    runs-on: windows-latest

    env:
      client-dir: ./client
      home-dir: ./

    #Fetch repo content
    steps:
      - name: Checkout
        uses: actions/checkout@v1
        uses: actions/setup-node@v2
          with:
            node-version: '14'
        - run: npm install
        - run: npm build
        working-directory: ${{env.client-dir}}
        - run: npm install
        working-directory: ${{env.home-dir}}
      - name: Running Tests
        uses: DevExpress/testcafe-action@latest
        with:
          args: "chrome tests"
          
